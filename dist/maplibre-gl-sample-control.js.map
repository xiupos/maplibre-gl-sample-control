{"version":3,"file":"maplibre-gl-sample-control.js","sources":["../src/main.ts"],"sourcesContent":["import type { Map, IControl } from 'maplibre-gl';\nimport './style.scss';\n\n// Type for options\ninterface Options {\n  text: string;\n};\n\n// Default options\nconst defaultOptions: Options = {\n  text: 'Hello, world!',\n};\n\nexport class SampleControl implements IControl {\n  private text: string;\n  private container!: HTMLDivElement;\n  private map: Map | null;\n\n  constructor(options?: Options) {\n    this.text = options?.text || defaultOptions.text;\n    this.map = null;\n  };\n\n  // Add a paragraph\n  private paragraphAdd(text: string) {\n    // Create a paragraph\n    const paragraph = document.createElement('p');\n    paragraph.innerText = text;\n\n    // Add to the container\n    this.container.appendChild(paragraph);\n  };\n\n  // Add a fly button\n  private flyButtonAdd({ text, lnglat, zoom = 10, speed = 0.8 }: { text: string, lnglat: [number, number], zoom?: number, speed?: number }) {\n    // Create a button\n    const flyButton = document.createElement('input');\n    flyButton.type = 'button';\n    flyButton.value = text;\n\n    // Add a click event\n    flyButton.addEventListener('click', () => {\n      this.map?.flyTo({\n        center: lnglat,\n        zoom: zoom,\n        speed: speed\n      });\n    });\n\n    // Add to the container\n    this.container.appendChild(flyButton);\n  };\n\n  // Add a container\n  private sampleControlAdd() {\n    // Set class names and id's\n    this.container.className = 'maplibregl-ctrl maplibregl-ctrl-group';\n    this.container.id = 'sample-control';\n\n    // Please write your favorite control here\n    // For example,\n\n    // Add a custom text\n    this.paragraphAdd(this.text);\n\n    // Add a fry-to-Sapporo button\n    this.flyButtonAdd({ text: 'Fly to Sapporo', lnglat: [141.34, 43.07] });\n  };\n\n  onAdd(map: Map) {\n    this.container = document.createElement('div');\n    this.map = map;\n\n    // Add the control\n    this.sampleControlAdd();\n    return this.container;\n  };\n\n  onRemove() {\n    // Refly the container\n    this.container.parentNode?.removeChild(this.container);\n    this.map = null;\n  };\n};\n"],"names":["defaultOptions","SampleControl","options","__publicField","text","paragraph","lnglat","zoom","speed","flyButton","_a","map"],"mappings":";;;AASA,MAAMA,IAA0B;AAAA,EAC9B,MAAM;AACR;AAEO,MAAMC,EAAkC;AAAA,EAK7C,YAAYC,GAAmB;AAJvB,IAAAC,EAAA;AACA,IAAAA,EAAA;AACA,IAAAA,EAAA;AAGD,SAAA,QAAOD,KAAA,gBAAAA,EAAS,SAAQF,EAAe,MAC5C,KAAK,MAAM;AAAA,EACb;AAAA;AAAA,EAGQ,aAAaI,GAAc;AAE3B,UAAAC,IAAY,SAAS,cAAc,GAAG;AAC5C,IAAAA,EAAU,YAAYD,GAGjB,KAAA,UAAU,YAAYC,CAAS;AAAA,EACtC;AAAA;AAAA,EAGQ,aAAa,EAAE,MAAAD,GAAM,QAAAE,GAAQ,MAAAC,IAAO,IAAI,OAAAC,IAAQ,OAAkF;AAElI,UAAAC,IAAY,SAAS,cAAc,OAAO;AAChD,IAAAA,EAAU,OAAO,UACjBA,EAAU,QAAQL,GAGRK,EAAA,iBAAiB,SAAS,MAAM;;AACxC,OAAAC,IAAA,KAAK,QAAL,QAAAA,EAAU,MAAM;AAAA,QACd,QAAQJ;AAAA,QACR,MAAAC;AAAA,QACA,OAAAC;AAAA,MAAA;AAAA,IACD,CACF,GAGI,KAAA,UAAU,YAAYC,CAAS;AAAA,EACtC;AAAA;AAAA,EAGQ,mBAAmB;AAEzB,SAAK,UAAU,YAAY,yCAC3B,KAAK,UAAU,KAAK,kBAMf,KAAA,aAAa,KAAK,IAAI,GAGtB,KAAA,aAAa,EAAE,MAAM,kBAAkB,QAAQ,CAAC,QAAQ,KAAK,EAAA,CAAG;AAAA,EACvE;AAAA,EAEA,MAAME,GAAU;AACT,gBAAA,YAAY,SAAS,cAAc,KAAK,GAC7C,KAAK,MAAMA,GAGX,KAAK,iBAAiB,GACf,KAAK;AAAA,EACd;AAAA,EAEA,WAAW;;AAET,KAAAD,IAAA,KAAK,UAAU,eAAf,QAAAA,EAA2B,YAAY,KAAK,YAC5C,KAAK,MAAM;AAAA,EACb;AACF;"}