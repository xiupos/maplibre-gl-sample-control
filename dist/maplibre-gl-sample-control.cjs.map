{"version":3,"file":"maplibre-gl-sample-control.cjs","sources":["../src/main.ts"],"sourcesContent":["import type { Map, IControl } from 'maplibre-gl';\nimport './style.scss';\n\n// Type for options\ninterface Options {\n  text: string;\n};\n\n// Default options\nconst defaultOptions: Options = {\n  text: 'Hello, world!',\n};\n\nexport class SampleControl implements IControl {\n  private text: string;\n  private container!: HTMLDivElement;\n  private map: Map | null;\n\n  constructor(options?: Options) {\n    this.text = options?.text || defaultOptions.text;\n    this.map = null;\n  };\n\n  // Add a paragraph\n  private paragraphAdd(text: string) {\n    // Create a paragraph\n    const paragraph = document.createElement('p');\n    paragraph.innerText = text;\n\n    // Add to the container\n    this.container.appendChild(paragraph);\n  };\n\n  // Add a fly button\n  private flyButtonAdd({ text, lnglat, zoom = 10, speed = 0.8 }: { text: string, lnglat: [number, number], zoom?: number, speed?: number }) {\n    // Create a button\n    const flyButton = document.createElement('input');\n    flyButton.type = 'button';\n    flyButton.value = text;\n\n    // Add a click event\n    flyButton.addEventListener('click', () => {\n      this.map?.flyTo({\n        center: lnglat,\n        zoom: zoom,\n        speed: speed\n      });\n    });\n\n    // Add to the container\n    this.container.appendChild(flyButton);\n  };\n\n  // Add a container\n  private sampleControlAdd() {\n    // Set class names and id's\n    this.container.className = 'maplibregl-ctrl maplibregl-ctrl-group';\n    this.container.id = 'sample-control';\n\n    // Please write your favorite control here\n    // For example,\n\n    // Add a custom text\n    this.paragraphAdd(this.text);\n\n    // Add a fry-to-Sapporo button\n    this.flyButtonAdd({ text: 'Fly to Sapporo', lnglat: [141.34, 43.07] });\n  };\n\n  onAdd(map: Map) {\n    this.container = document.createElement('div');\n    this.map = map;\n\n    // Add the control\n    this.sampleControlAdd();\n    return this.container;\n  };\n\n  onRemove() {\n    // Refly the container\n    this.container.parentNode?.removeChild(this.container);\n    this.map = null;\n  };\n};\n"],"names":["defaultOptions","SampleControl","options","__publicField","text","paragraph","lnglat","zoom","speed","flyButton","_a","map"],"mappings":"wPASA,MAAMA,EAA0B,CAC9B,KAAM,eACR,EAEO,MAAMC,CAAkC,CAK7C,YAAYC,EAAmB,CAJvBC,EAAA,aACAA,EAAA,kBACAA,EAAA,YAGD,KAAA,MAAOD,GAAA,YAAAA,EAAS,OAAQF,EAAe,KAC5C,KAAK,IAAM,IACb,CAGQ,aAAaI,EAAc,CAE3B,MAAAC,EAAY,SAAS,cAAc,GAAG,EAC5CA,EAAU,UAAYD,EAGjB,KAAA,UAAU,YAAYC,CAAS,CACtC,CAGQ,aAAa,CAAE,KAAAD,EAAM,OAAAE,EAAQ,KAAAC,EAAO,GAAI,MAAAC,EAAQ,IAAkF,CAElI,MAAAC,EAAY,SAAS,cAAc,OAAO,EAChDA,EAAU,KAAO,SACjBA,EAAU,MAAQL,EAGRK,EAAA,iBAAiB,QAAS,IAAM,QACxCC,EAAA,KAAK,MAAL,MAAAA,EAAU,MAAM,CACd,OAAQJ,EACR,KAAAC,EACA,MAAAC,CAAA,EACD,CACF,EAGI,KAAA,UAAU,YAAYC,CAAS,CACtC,CAGQ,kBAAmB,CAEzB,KAAK,UAAU,UAAY,wCAC3B,KAAK,UAAU,GAAK,iBAMf,KAAA,aAAa,KAAK,IAAI,EAGtB,KAAA,aAAa,CAAE,KAAM,iBAAkB,OAAQ,CAAC,OAAQ,KAAK,CAAA,CAAG,CACvE,CAEA,MAAME,EAAU,CACT,YAAA,UAAY,SAAS,cAAc,KAAK,EAC7C,KAAK,IAAMA,EAGX,KAAK,iBAAiB,EACf,KAAK,SACd,CAEA,UAAW,QAETD,EAAA,KAAK,UAAU,aAAf,MAAAA,EAA2B,YAAY,KAAK,WAC5C,KAAK,IAAM,IACb,CACF"}